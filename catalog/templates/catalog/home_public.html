{% extends "base.html" %}
{% load static %}

{% block title %}ocka – Wholesale marketplace{% endblock %}

{% block content %}
<div class="oc-phone">

  <!-- HERO -->
  <section class="oc-hero"
           {% if hero and hero.image %}
             style="background-image: url('{{ hero.image.url }}');"
           {% endif %}>
    <div class="oc-hero-inner">
      <h1>{{ hero.title }}</h1>
      {% if hero.subtitle %}<p>{{ hero.subtitle }}</p>{% endif %}
      <a href="{% if hero.cta_url %}{{ hero.cta_url }}{% else %}{% url 'catalog:product_list' %}{% endif %}" 
        class="oc-btn">
        {{ hero.cta_text }}
      </a>

    </div>
  </section>

  <!-- TOP BRANDS -->
  <section class="oc-top-brands">
    <h2>TOP BRANDS</h2>
    <div class="brand-grid">
      {% if top_brands %}
        {% for brand in top_brands %}
          <a href="{{ brand.link|default:'#' }}" class="brand-item" title="{{ brand.name }}">
            <img src="{{ brand.logo.url }}" alt="{{ brand.name }}">
          </a>
        {% endfor %}
      {% else %}
        <p>No featured brands yet.</p>
      {% endif %}
    </div>
  </section>



  <!-- CATEGORIES -->
  <section class="oc-section">
    <h2 class="oc-h2">Shop by Categories</h2>
    <div class="oc-cat-list">
      {% for c in categories %}
        <a class="oc-cat-row"
           href="{% url 'catalog:product_list' %}?category={{ c.id|default:c.pk }}">
          <div class="oc-cat-left">
            <div class="oc-ico">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M4 7h16M4 12h16M4 17h16"
                      fill="none" stroke="currentColor" stroke-width="1.5"
                      stroke-linecap="round" />
              </svg>
            </div>
            <span class="oc-cat-name">{{ c.name }}</span>
          </div>
          <svg class="oc-chev" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M9 6l6 6-6 6"
                  fill="none" stroke="currentColor" stroke-width="1.5"
                  stroke-linecap="round" stroke-linejoin="round" />
          </svg>
        </a>
      {% empty %}
        <div class="oc-empty">No categories yet.</div>
      {% endfor %}
    </div>
  </section>

  <!-- How It Works - Homepage -->
<section id="how-it-works" aria-labelledby="how-it-works-heading" class="how-it-works">
  <div class="container">
    <h2 id="how-it-works-heading" class="hiw-heading">How It Works</h2>
    <p class="hiw-subtitle">Simple, secure wholesale ordering — built for both retailers and wholesalers.</p>

    <ol class="hiw-steps" role="list">
      <li class="hiw-step" data-step="1" aria-labelledby="step-1-title">
        <h3 id="step-1-title" class="hiw-step-title">1. Add to Cart</h3>
        <p class="hiw-step-desc">Retailers browse products, add items to their cart, and place orders — just like shopping online.</p>
      </li>

      <li class="hiw-step" data-step="2" aria-labelledby="step-2-title">
        <h3 id="step-2-title" class="hiw-step-title">2. Secure Checkout (No Payment Here)</h3>
        <p class="hiw-step-desc">
          Orders are confirmed instantly at the <strong>same wholesale price you’d get walking into the store</strong>. No payment is taken during checkout.
        </p>
      </li>

      <li class="hiw-step" data-step="3" aria-labelledby="step-3-title">
        <h3 id="step-3-title" class="hiw-step-title">3. Easy Payment via Platform</h3>
        <p class="hiw-step-desc">
          Once the order is placed, our team will share a payment request through WhatsApp / UPI. Payments are made <strong>securely through the platform</strong>, ensuring both retailer and wholesaler are protected.
        </p>
      </li>

      <li class="hiw-step" data-step="4" aria-labelledby="step-4-title">
        <h3 id="step-4-title" class="hiw-step-title">4. Track & Receive</h3>
        <p class="hiw-step-desc">
          Retailers can track order status in real time. Wholesalers prepare and ship items after payment confirmation.
        </p>
      </li>
    </ol>

    <p class="hiw-note">
      <strong>Why we mediate:</strong> We act as a trusted mediator so both parties are protected and your platform remains the reliable place for repeat wholesale orders.
    </p>
  </div>
</section>

<!-- Example minimal CSS (optional) -->
<style>
  .how-it-works { padding: 40px 16px; background: #fff; color: #111; }
  .container { max-width: 980px; margin: 0 auto; }
  .hiw-heading { font-size: 28px; margin-bottom: 8px; }
  .hiw-subtitle { color: #555; margin-bottom: 20px; }
  .hiw-steps { list-style: none; padding: 0; margin: 0 0 16px 0; display: grid; gap: 18px; }
  .hiw-step { border-radius: 8px; padding: 18px; border: 1px solid #eee; background: #fafafa; }
  .hiw-step-title { font-size: 18px; margin: 0 0 6px 0; }
  .hiw-step-desc { margin: 0; color: #444; line-height: 1.5; }
  .hiw-note { margin-top: 12px; color: #333; font-size: 14px; }
  @media (min-width: 768px) {
    .hiw-steps { grid-template-columns: repeat(2, 1fr); }
  }
</style>


  <footer class="oc-footer">© 2025 ocka. All rights reserved.</footer>
</div>
{% endblock %}
